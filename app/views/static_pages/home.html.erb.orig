  <div id="dropper" class="center-unit">
    <h1>Extract data from pictures</h1>
    <h2>Open a picture or drop it here.</h2>

<input type="file" id="src" style="display:none;" onChange="showImage(this);"/>
<img id="target" exif="true"/>
<input type="button" class="btn btn-large btn-primary" value = "Open picture" onclick="getfile();"/>
<input type="button" class="btn btn-large btn-primary" value = "Edit datas" style="display:none" onclick="changeDatas();"/>

<%= simple_form_for (@image, remote: true) do |IMG| %>
  <%= IMG.input :username, type: :file,label_html: { id: 'src' }  %>
  <%= IMG.button :submit, remote: true %>
<% end %>

<script type="text/javascript">
    function getfile(){
        document.getElementById('src').click();
    }
</script>

<h4><font color="grey">Learn more about
		<a href="https://en.wikipedia.org/wiki/Exchangeable_image_file_format">EXIF files</a>.
    </font>
</h4>
</div>

<div class="row">
<aside class="span4">

<fieldset>
<legend>General Informations</legend>
	Dimension:<br>
  	<input type="text" id="dimension">
  	<br>
  	Original date:<br>
  	<input type="text" id="originalDate">
	<br>
  	Model:<br>
  	<input type="text" id="model">
	<br>
  	Last changes:<br>
  	<input type="text" id="lastChanges">
  	<br><br>
</fieldset>
</aside>
<aside class="span4">
<fieldset>
<legend>Geolocalisation</legend>
	GPS Latitude:<br>
  	<input type="text" id="latitude">
  	<br>
  	GPS Longitude:<br>
  	<input type="text" id="longitude">
	<br>
  	GPS Altitude:<br>
  	<input type="text" id="altitude">
	<br>
  	Address:<br>
  	<input type="text" id="address">
	<br><br>
</fieldset>
</aside>
<aside class="span4">
<fieldset>
<legend>Technical Informations</legend>
	Exposition Time (s):<br>
  	<input type="text" id="expositionTime">
  	<br>
  	Focal Length (mm):<br>
  	<input type="text" id="focalLength">
	<br>
  	ISO Speed Rate:<br>
  	<input type="text" id="ISO">
	<br>
  	Compression Rate:<br>
  	<input type="text" id="compressionRate">
  	<br><br>
</fieldset>
</aside>
</div>


 <script>
function showImage(src,target) {
  var fr=new FileReader();
  fr.onload = function(e) { target.src = this.result; };
  src.addEventListener("change",function() {
    fr.readAsDataURL(src.files[0]);
  });

}

var src = document.getElementById("src");
var target = document.getElementById("target");
showImage(src,target);
  </script>


